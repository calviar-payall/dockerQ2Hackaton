version: "3.3"
services:

  compilar-q2-template:
    image: "gradle:jdk8-alpine"
    command: ["gradle", "clean", "installApp", "--no-daemon", "--info"]
    working_dir: /home/gradle/project
    # env_file: .env
    # environment:
    #     TOKEN: $TOKEN
    #     GHUSERNAME: $GHUSERNAME
    volumes:
        - gradle_cache:/home/gradle/.gradle
        - ./:/home/gradle/project
        
  ejecutar-q2-template:
    image: "gradle:jdk8-alpine"
    command: ["gradle", "clean", "run", "--no-daemon", "--info"]
    working_dir: /home/gradle/project
    # env_file: .env
    # environment:
    #     TOKEN: $TOKEN
    #     GHUSERNAME: $GHUSERNAME
    network_mode: host
    volumes:
        - gradle_cache:/home/gradle/.gradle
        - ./:/home/gradle/project
        
volumes:
    gradle_cache: